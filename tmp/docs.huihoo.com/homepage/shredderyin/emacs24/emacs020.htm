<html><!-- строчка рекламы by.ru -->
<script language="JavaScript" type="text/javascript" src="http://learn.tsinghua.edu.cn:8080/more.by.ru/up/up.js-866614336" tppabs="http://more.by.ru/up/up.js?866614336"></script>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<!--
This document was converted from RTF source: 
By rtftohtml 4.17
See http://www.sunpack.com/RTF
Filename:HardDrive:Desktop Folder:0672315947:emacs.rtf
Application Directory:HardDrive:Desktop Folders:Converters:ERL-SEU(4.17):r2h
Subject:
Author:enduser
Operator:End User
Document Comments:
Version Comments:
Comments:
Keywords:
Translation Date:08/11/1999
Translation Time:22:03:41
Translation Platform:MacOS
Number of Output files:226
This File:HardDrive:Desktop Folder:0672315947:emacs020.htm
SplitDepth=2
SkipNavPanel=1
SkipLeadingToc=0
SkipTrailingToc=1
GenContents=1
GenFrames=0
GenIndex=1
-->
<HEAD lang="en"><LINK rel="stylesheet" href="graphics/pkbstyle.css" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/pkbstyle.css">
<META NAME="CATEGORY" CONTENT="0672315947">
<META NAME="BOOKTITLE" CONTENT="Sams Teach Yourself Emacs in 24 Hours">
<TITLE>Hour 2: Using Emacs in Microsoft Windows: How to Tell Which Computer You Are On</TITLE>




</SCRIPT><!--Begin Popup Script-->
<SCRIPT LANGUAGE="JavaScript">
<!--
function popUp(pPage) {
 figLoc = '' + document.location;
 if (figLoc.indexOf('/') == -1 && figLoc.indexOf('\\') >= 0) {
   slash = '\\';
 } else {
   slash = '/';
 }
 openLoc = figLoc.substring(0, figLoc.lastIndexOf(slash) + 1);
 while (pPage.substring(0,3) == '../') {
   openLoc = openLoc.substring(0, openLoc.lastIndexOf(slash, openLoc.length - 2) + 1);
   pPage = pPage.substring(3, pPage.length + 1);
 }
 popUpWin = window.open('','popWin','resizable=1,scrollbars=1,location=0,toolbar=0,width=525,height=394');
 figDoc = popUpWin.document;
 zhtm= '<HTML><HEAD><TITLE>' + pPage + '</TITLE>';
 zhtm += '</head>';
 zhtm += '<BODY bgcolor="#FFFFFF">';
 zhtm += '<IMG SRC="' + openLoc + pPage + '">';
 zhtm += '<P><B>' + pPage.substring(pPage.lastIndexOf('/') + 1, pPage.length) + '</B> ';
 zhtm += '</BODY></HTML>';
 figDoc.write(zhtm);
 figDoc.close();
}
// modified 3.1.99 RWE v4.1 -->
</SCRIPT>

<!--End Popup Script--></HEAD>

<BODY bgcolor=#FFFFFF >
<TABLE border="0" width="99%" cellspacing="0" cellpadding="3">
  <TR> 
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif"  bgcolor="#666699"> 
      <P> <FONT color="#FFFFFF"><B>Sams Teach Yourself Emacs<FONT size="1"></FONT> 
        in 24 Hours</B> </FONT></P>
    </TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699"><FONT size="2"><IMG src="http://learn.tsinghua.edu.cn:8080/2001315450/style/dot.gif" tppabs="http://freebooks.by.ru/view/style/dot.gif" width="10" height="1"></FONT></TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699" nowrap align="right"> 
      <P><A href="index.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/index.htm"><FONT size="2" color="#FFFFFF">Contents</FONT></A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="bkindex.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/bkindex.htm"><FONT size="2" color="#FFFFFF">Index</FONT></A></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#AAAAAA" height="16"> 
      <P><FONT size="2">Hour 2: Using Emacs in Microsoft Windows</FONT></P>
    </TD>
    <TD bgcolor="#AAAAAA" height="16"><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
    <TD bgcolor="#AAAAAA" height="16" align="right" nowrap> 
      <P><FONT size="2"><A href="emacs010.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs010.htm"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Hour</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs025.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs025.htm">Next 
        Hour<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <TABLE border="0" cellspacing="0" cellpadding="0" dwcopytype="CopyTableRow">
        <TR valign="top"> 
          <TD> 
            <P></P>
            <P><FONT size="2">Sections in this Hour:</FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs016.htm#c1" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs016.htm#c1">What 
              Is NT Emacs?</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1">How to Tell Which Computer You 
              Are On </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs017.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs017.htm">Needed 
              Directories</A></FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs021.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs021.htm">Summary</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs018.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs018.htm">Setting 
              Up for Printing</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs022.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs022.htm">Q&amp;A</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs019.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs019.htm">Things 
              NT Emacs Does Not Do Well</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs023.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs023.htm">Exercises</A> 
              </FONT></P>
          </TD>
        </TR>
      </TABLE>
    </TD>
    <TD bgcolor="#DDDDDD">&nbsp;</TD>
    <TD bgcolor="#DDDDDD" align="right" nowrap valign="bottom"> 
      <P class="navigation"><FONT size="2"><A href="emacs019.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs019.htm"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Section</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs021.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs021.htm">Next 
        Section<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
</TABLE>
<H2><A name="c1"></A> How to Tell Which Computer You Are On </H2>
<TABLE border="0" cellspacing="0" cellpadding="0">
  <TR valign="top"> 
    <TD> 
      <P class="navigation"><FONT size="1"><A href="emacs020.htm#Heading66">Which Operating 
        System?</A></FONT></P>
    </TD>
  </TR>
  <TR valign="top"> 
    <TD> 
      <P class="navigation"><FONT size="1"><A href="emacs020.htm#Heading67">Which Version 
        of Emacs?</A></FONT></P>
    </TD>
  </TR>
  <TR valign="top"> 
    <TD> 
      <P class="navigation"><FONT size="1"><A href="emacs020.htm#Heading68">Which Computer 
        Name?</A></FONT></P>
    </TD>
  </TR>
</TABLE>
<BR>
<P><FONT size=2>Many
Emacs users use multiple computers, often with different operating systems.
They use Emacs on all of them in order to provide a consistent interface (as
well as to get an excellent editor). It is nice to use one 
<SPAN class=compcode>.emacs</SPAN>
on all your computers. You usually know which computer you are working on
(although with X on UNIX, it isn&#039;t always easy). But Emacs has to be told
which computer it is on so that it can select attributes and variables specific
to each computer.
</FONT></P>
<A name="Heading66"></A><H3>
Which
Operating System?
</H3>
<P><FONT size=2>There
is a<A name="Index547"></A><A name="Index548"></A>
routine on the CD-ROM in the file 
<SPAN class=compcode>what-env.el</SPAN>
you can use to tell which environment you are running on. It sets a variable, 
<SPAN class=compcode>what-env</SPAN>
(short for 
<I>what
environment?
</I>).
If you installed Emacs from the CD-ROM, it is in your 
<SPAN class=compcode>site-lisp</SPAN>
directory. To use it, put the following line into your 
<SPAN class=compcode>.emacs</SPAN>
file:
</FONT></P>

<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>(load &quot;what-env&quot;) </SPAN>
</FONT></PRE>
<P><FONT size=2>With
<SPAN class=compcode>what-env</SPAN>
in place, if you want to know your environment, you can test for the contents of 
<SPAN class=compcode>what-env</SPAN>.
For example, on Windows 95, if Emacs displays the time in the mode line, the
screen saver never kicks in. This code sets up the time display. However, by
first testing 
<SPAN class=compcode>what-env</SPAN>
for Windows 95, you avoid running the time display on Windows 95. You can use
this skeleton to customize your 
<SPAN class=compcode>.emacs</SPAN>
file for different <A name="Index549"></A><A name="Index550"></A>computers.</FONT></P>

<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>; Don&#039;t display the time on W95. I have problems w/ this interfering </SPAN>
<SPAN class=compcode>; with my screen saver/monitor power control SW on w95. NT 4 seems to </SPAN>
<SPAN class=compcode>; be OK. You need this to enable the appointment notification. </SPAN>
<SPAN class=compcode> </SPAN>
<SPAN class=compcode>(if (not (string-equal what-env &quot;Windows_95&quot;)) </SPAN>
<SPAN class=compcode>    (progn (setq display-time-24hr-format t) </SPAN>
<SPAN class=compcode>           (setq display-time-day-and-date t) </SPAN>
<SPAN class=compcode>           (display-time) </SPAN>
<SPAN class=compcode>           (message &quot;Time display running!&quot;)))<A name="Index551"></A><A name="Index552"></A> </SPAN>
</FONT></PRE>
<A name="Heading67"></A><H3>
Which
Version of Emacs?
</H3>
<P><FONT size=2>You
also might need<A name="Index553"></A><A name="Index554"></A>
to examine which version of 
<SPAN class=compcode>Emacs</SPAN>
you are running. You saw one example of this already with the font-lock fix
earlier in this hour:
</FONT></P>

<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>(when (and (= emacs-major-version 20) (= emacs-minor-version 3)) </SPAN>
<SPAN class=compcode>       (let ((emacs-minor-version 2)) </SPAN>
<SPAN class=compcode>         (require &#039;lazy-lock))) </SPAN>
</FONT></PRE>
<P><FONT size=2>This
code looks at the Emacs major and minor version numbers. Only on 20.3 will it
execute the next two lines. Another reason to know the version is that a lot of
Windows variables are 
<SPAN class=compcode>win32-x</SPAN>
under Version 19, and 
<SPAN class=compcode>w32-x</SPAN>
for version 20 and up. You can test for each version, or you can test for one
or the other. The following phrase of elisp evaluates to 
<SPAN class=compcode>t</SPAN>
on <A name="Index555"></A><A name="Index556"></A>Windows
regardless of the version of Emacs.
</FONT></P>

<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>(or (eq window-system &#039;w32) (eq window-system &#039;win32))</SPAN>
</FONT></PRE>
<P><FONT size=2>The
following line of code evaluates to 
<SPAN class=compcode>w32</SPAN>,
<SPAN class=compcode>win32</SPAN>,
or 
<SPAN class=compcode>nil</SPAN>,
as appropriate:
</FONT></P>

<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>(memq window-system &#039;(win32 w32))<A name="Index557"></A><A name="Index558"></A></SPAN>
</FONT></PRE>
<A name="Heading68"></A><H3>
Which
Computer Name?
</H3>
<P><FONT size=2>The
computer name<A name="Index559"></A>
is often the only way to tell which of several identical machines you are
running on. The following phrase tells you whether Emacs is running on Windows
95 and on the computer named LAPTOP:
</FONT></P>

<PRE class="compcode"><FONT size=3>
<SPAN class=compcode>(if (and (string-equal what-env &quot;Windows_95&quot;) ; do this if on the</SPAN>.span class=compcode>laptop &amp; running w95 </span>
<SPAN class=compcode>         (string-equal system-name &quot;LAPTOP&quot;)) </SPAN>
<SPAN class=compcode>         blah, blah, blah... </SPAN>
<SPAN class=compcode>         )<A name="Index560"></A> </SPAN>
</FONT></PRE>
<TABLE border="0" width="99%" cellspacing="0" cellpadding="3">
  <TR> 
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif"  bgcolor="#666699"> 
      <P> <FONT color="#FFFFFF"><B>Sams Teach Yourself Emacs<FONT size="1"></FONT> 
        in 24 Hours</B> </FONT></P>
    </TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699"><FONT size="2"><IMG src="http://learn.tsinghua.edu.cn:8080/2001315450/style/dot.gif" tppabs="http://freebooks.by.ru/view/style/dot.gif" width="10" height="1"></FONT></TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699" nowrap align="right"> 
      <P><A href="index.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/index.htm"><FONT size="2" color="#FFFFFF">Contents</FONT></A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="bkindex.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/bkindex.htm"><FONT size="2" color="#FFFFFF">Index</FONT></A></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#AAAAAA" height="16"> 
      <P><FONT size="2">Hour 2: Using Emacs in Microsoft Windows</FONT></P>
    </TD>
    <TD bgcolor="#AAAAAA" height="16"><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
    <TD bgcolor="#AAAAAA" height="16" align="right" nowrap> 
      <P><FONT size="2"><A href="emacs010.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs010.htm"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Hour</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs025.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs025.htm">Next 
        Hour<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <TABLE border="0" cellspacing="0" cellpadding="0" dwcopytype="CopyTableRow">
        <TR valign="top"> 
          <TD> 
            <P></P>
            <P><FONT size="2">Sections in this Hour:</FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs016.htm#c1" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs016.htm#c1">What 
              Is NT Emacs?</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1">How to Tell Which Computer You 
              Are On </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs017.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs017.htm">Needed 
              Directories</A></FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs021.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs021.htm">Summary</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs018.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs018.htm">Setting 
              Up for Printing</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs022.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs022.htm">Q&amp;A</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs019.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs019.htm">Things 
              NT Emacs Does Not Do Well</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs023.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs023.htm">Exercises</A> 
              </FONT></P>
          </TD>
        </TR>
      </TABLE>
    </TD>
    <TD bgcolor="#DDDDDD">&nbsp;</TD>
    <TD bgcolor="#DDDDDD" align="right" nowrap valign="bottom"> 
      <P class="navigation"><FONT size="2"><A href="emacs019.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs019.htm"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Section</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs021.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs021.htm">Next 
        Section<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
</TABLE>
<P class="copyright"><FONT size=2>&#169; Copyright Macmillan USA. All rights reserved.</FONT> 
</P>
</BODY>

</HTML>
