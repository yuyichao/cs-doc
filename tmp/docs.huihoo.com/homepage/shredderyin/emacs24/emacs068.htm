<html><!-- ñòðî÷êà ðåêëàìû by.ru -->
<script language="JavaScript" type="text/javascript" src="http://learn.tsinghua.edu.cn:8080/more.by.ru/up/up.js-685966528" tppabs="http://more.by.ru/up/up.js?685966528"></script>

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<!--
This document was converted from RTF source: 
By rtftohtml 4.17
See http://www.sunpack.com/RTF
Filename:HardDrive:Desktop Folder:0672315947:emacs.rtf
Application Directory:HardDrive:Desktop Folders:Converters:ERL-SEU(4.17):r2h
Subject:
Author:enduser
Operator:End User
Document Comments:
Version Comments:
Comments:
Keywords:
Translation Date:08/11/1999
Translation Time:22:04:11
Translation Platform:MacOS
Number of Output files:226
This File:HardDrive:Desktop Folder:0672315947:emacs068.htm
SplitDepth=2
SkipNavPanel=1
SkipLeadingToc=0
SkipTrailingToc=1
GenContents=1
GenFrames=0
GenIndex=1
-->
<HEAD lang="en"><LINK rel="stylesheet" href="graphics/pkbstyle.css" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/pkbstyle.css">
<META NAME="CATEGORY" CONTENT="0672315947">
<META NAME="BOOKTITLE" CONTENT="Sams Teach Yourself Emacs in 24 Hours">
<TITLE>Hour 8: Searching for Text in Multiple Files: Using grep from Within Emacs </TITLE>




<!--Begin Popup Script-->
<SCRIPT LANGUAGE="JavaScript">
<!--
function popUp(pPage) {
 figLoc = '' + document.location;
 if (figLoc.indexOf('/') == -1 && figLoc.indexOf('\\') >= 0) {
   slash = '\\';
 } else {
   slash = '/';
 }
 openLoc = figLoc.substring(0, figLoc.lastIndexOf(slash) + 1);
 while (pPage.substring(0,3) == '../') {
   openLoc = openLoc.substring(0, openLoc.lastIndexOf(slash, openLoc.length - 2) + 1);
   pPage = pPage.substring(3, pPage.length + 1);
 }
 popUpWin = window.open('','popWin','resizable=1,scrollbars=1,location=0,toolbar=0,width=525,height=394');
 figDoc = popUpWin.document;
 zhtm= '<HTML><HEAD><TITLE>' + pPage + '</TITLE>';
 zhtm += '</head>';
 zhtm += '<BODY bgcolor="#FFFFFF">';
 zhtm += '<IMG SRC="' + openLoc + pPage + '">';
 zhtm += '<P><B>' + pPage.substring(pPage.lastIndexOf('/') + 1, pPage.length) + '</B> ';
 zhtm += '</BODY></HTML>';
 figDoc.write(zhtm);
 figDoc.close();
}
// modified 3.1.99 RWE v4.1 -->
</SCRIPT>

<!--End Popup Script--></HEAD>

<BODY bgcolor=#FFFFFF >
<TABLE border="0" width="99%" cellspacing="0" cellpadding="3">
  <TR> 
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif"  bgcolor="#666699"> 
      <P> <FONT color="#FFFFFF"><B>Sams Teach Yourself Emacs<FONT size="1"></FONT> 
        in 24 Hours</B> </FONT></P>
    </TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699"><FONT size="2"><IMG src="http://learn.tsinghua.edu.cn:8080/2001315450/style/dot.gif" tppabs="http://freebooks.by.ru/view/style/dot.gif" width="10" height="1"></FONT></TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699" nowrap align="right"> 
      <P><A href="index.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/index.htm"><FONT size="2" color="#FFFFFF">Contents</FONT></A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="bkindex.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/bkindex.htm"><FONT size="2" color="#FFFFFF">Index</FONT></A></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#AAAAAA" height="16"> 
      <P><FONT size="2">Hour 8: Searching for Text in Multiple Files</FONT></P>
    </TD>
    <TD bgcolor="#AAAAAA" height="16"><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
    <TD bgcolor="#AAAAAA" height="16" align="right" nowrap> 
      <P><FONT size="2"><A href="emacs059.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs059.htm"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Hour</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs075.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs075.htm">Next 
        Hour<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <TABLE border="0" cellspacing="0" cellpadding="0" dwcopytype="CopyTableRow">
        <TR valign="top"> 
          <TD> 
            <P></P>
            <P><FONT size="2">Sections in this Hour:</FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs067.htm#c1" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs067.htm#c1">Searching 
              for a Definition in a Set of Files</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs071.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs071.htm">Summary</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1">Using grep from Within Emacs</FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs072.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs072.htm">Q&amp;A</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs069.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs069.htm">Keeping 
              Points in Buffers for Several Sessions (Bookmarks)</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs073.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs073.htm">Exercises</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs070.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs070.htm">Keeping 
              Points in Buffers for the Current Session</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"> </FONT></P>
          </TD>
        </TR>
      </TABLE>
    </TD>
    <TD bgcolor="#DDDDDD">&nbsp;</TD>
    <TD bgcolor="#DDDDDD" align="right" nowrap valign="bottom"> 
      <P class="navigation"><FONT size="2"><A href="emacs067.htm#c1" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs067.htm#c1"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Section</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs069.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs069.htm">Next 
        Section<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
</TABLE>
<H2><A name="c1"></A> Using <SPAN class=compcode>grep</SPAN> from Within Emacs 
</H2>
<TABLE border="0" cellspacing="0" cellpadding="0">
  <TR valign="top"> 
    <TD> 
      <P class="navigation"><A href="emacs068.htm#Heading189"><FONT size="1">Searching for 
        a Definition in Standard C include Files Using fgrep</FONT></A></P>
    </TD>
  </TR>
</TABLE>
<BR>
<P><FONT size=2>If you are used to UNIX, you will most certainly know the two 
  commands called<A name="Index3305"></A><A name="Index3306"></A> <SPAN class=compcode>grep</SPAN> 
  and <SPAN class=compcode>find</SPAN>. <SPAN class=compcode>grep</SPAN> lists 
  the lines of a file that contain certain text, whereas <SPAN class=compcode>find</SPAN> 
  lists <A name="Index3307"></A><A name="Index3308"></A>files that match a pattern. 
  Together, these two commands can search for a given string in all files in a 
  directory structure. Emacs has a command called <SPAN class=compcode>grep</SPAN> 
  (that is, <SPAN class=compcode>M-x grep</SPAN>) which interfaces to the <SPAN class=compcode>grep</SPAN> 
  <A name="Index3309"></A><A name="Index3310"></A><A name="Index3311"></A><A name="Index3312"></A>command. 
  Now that you know about it, forget it please! I told you about it, in case you 
  ever find yourself without <SPAN class=compcode>igrep</SPAN> and really need 
  to use <SPAN class=compcode>grep</SPAN> instead. <SPAN class=compcode>igrep</SPAN> 
  <A name="Index3313"></A><A name="Index3314"></A>has a much more user-friendly 
  interface than <SPAN class=compcode>grep</SPAN>. Furthermore, it combines <SPAN class=compcode>find</SPAN> 
  and <SPAN class=compcode>grep</SPAN>, which makes it possible to search for 
  files in a directory hierarchy. In the <SPAN class=compcode>igrep</SPAN> library 
  is a set of different functions: </FONT></P>
<UL>
<LI><P><FONT size=2>		<SPAN class=compcode>fgrep</SPAN>--This<A name="Index3315"></A><A name="Index3316"></A>
<SPAN class=compcode>grep</SPAN>
command searches for fixed string matches (that is, no regular expressions).
</FONT></P></LI><P></P><LI><P><FONT size=2>		<SPAN class=compcode>igrep</SPAN>--This
is<A name="Index3317"></A><A name="Index3318"></A>
the usual 
<SPAN class=compcode>grep</SPAN>
command, which searches using regular  expressions.
</FONT></P></LI><P></P><LI><P><FONT size=2>		<SPAN class=compcode>agrep</SPAN>--This
is <A name="Index3319"></A><A name="Index3320"></A>an
approximative 
<SPAN class=compcode>grep</SPAN>,
that is an ordinary string 
<SPAN class=compcode>grep</SPAN>
that  allows a few errors. For example, it would match 
<I>aproximative</I>
when searching  for<A name="Index3321"></A><A name="Index3322"></A><A name="Index3323"></A><A name="Index3324"></A>
<I>approximative</I>.
</FONT></P></LI></UL><P></P><TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center"><TR><TD bgcolor="#DDDDDD">
      <P><FONT size=2><B class="specialred">Caution -</B> <SPAN class=compcode>agrep</SPAN> 
        is not <A name="Index3325"></A><A name="Index3326"></A>included in the 
        usual <SPAN class=compcode>grep</SPAN> packages, so it might not be installed 
        at all at your system. It is, however, available from the WWW at <SPAN class=compcode><A href="javascript:if(confirm('http://glimpse.cs.arizona.edu/  \n\nÎÄ¼þ²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ý¿ªÊ¼ÍøÖ·ÖÐÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·þÎñÆ÷ÉÏ´ò¿ªËüÂð£¿'))window.location='http://glimpse.cs.arizona.edu/'" tppabs="http://glimpse.cs.arizona.edu/">http://glimpse.cs.arizona.edu/</A></SPAN>.</FONT></P>
    </TD></TR></TABLE><BR>
<P><FONT size=2>To
tell 
<SPAN class=compcode>agrep</SPAN>
how many errors are allowed, press 
<SPAN class=compcode>C-u</SPAN>
before pressing 
<SPAN class=compcode>M-x
agrep</SPAN>.
This makes Emacs ask for options to 
<SPAN class=compcode>agrep</SPAN>.
Here, you must type 
<SPAN class=compcode>-2</SPAN>
to tell it to accept two errors, for<A name="Index3327"></A><A name="Index3328"></A>
example.
</FONT></P><P><FONT size=2>Each
of the three functions described previously searches for text in files in one
directory. There also exist three functions called<A name="Index3329"></A><A name="Index3330"></A>
<SPAN class=compcode>fgrep-find</SPAN>,
<A name="Index3331"></A><A name="Index3332"></A><SPAN class=compcode>igrep-find</SPAN>,
and<A name="Index3333"></A><A name="Index3334"></A>
<SPAN class=compcode>agrep-find</SPAN>,
which work the same as those without the extension 
<SPAN class=compcode>-find</SPAN>,
but they work recursively  in a whole directory structure--that is, files in
the current directory and all its  subdirectories.
</FONT></P>
<P><FONT size=2><SPAN class=compcode>Igrep.el</SPAN> by Kevin<A name="Index3335"></A><A name="Index3336"></A> 
  Rodgers is part of the XEmacs distribution but not part of the GNU Emacs distribution, 
  so if you use GNU Emacs, you should copy <SPAN class=compcode>igrep</SPAN> to 
  <A name="Index3337"></A><A name="Index3338"></A><A name="Index3339"></A>your 
  <SPAN class=compcode>lisp</SPAN> directory. (If you use both GNU Emacs and XEmacs 
  you should still copy it to your <SPAN class=compcode>lisp</SPAN> directory. 
  There is no trouble in using this one instead of the one shipped with XEmacs.) 
  In <A href="emacs218.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs218.htm">Appendix A, &quot;Installing Functions and Packages 
  from the CD,&quot;</A> there is a description on what you should do to install 
  <SPAN class=compcode>igrep</SPAN> (including what to put in your .emacs file). 
  </FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center"><TR><TD bgcolor="#DDDDDD">
      <P><FONT size=2><B class="specialgreen">Windows Notes -</B> If you are using 
        Windows 95 or 98, you will have to install one of the UNIX tool kits available 
        for Windows, such as the Cygwin tools. There are copies on the CD-ROM. 
        Again, see <A href="emacs218.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs218.htm">Appendix A</A>. </FONT></P>
      <P><FONT size=2>
Windows
NT supports regular expressions somewhat in its program 
<SPAN class=compcode>findstr</SPAN>,
but most UNIX 
<SPAN class=compcode>grep</SPAN>s
are more powerful. 
<SPAN class=compcode>findstr</SPAN>
will do in a pinch if you put the following into your 
<SPAN class=compcode>.emacs</SPAN>
file:
</FONT></P>
      <P><FONT size=2> <SPAN class=compcode>(setq grep-command &quot;findstr /n&quot;)</SPAN></FONT></P>
      <FONT size=2><P><FONT size=2>
If
you use Bash as your shell, insert the following into your 
<SPAN class=compcode>.emacs</SPAN>:</FONT></P>
      <P><FONT size=2> <SPAN class=compcode>(setq w32-quote-process-args ?\&quot;)</SPAN></FONT></P>
      <FONT size=2><P><FONT size=2>
But
then you won&#039;t need to substitute 
<SPAN class=compcode>findstr</SPAN>
for 
<SPAN class=compcode>grep</SPAN>.</FONT></P><P><FONT size=2>
However,
neither operating system has a substitute for 
<SPAN class=compcode>find</SPAN>.</FONT></P></FONT></FONT></TD></TR></TABLE>
<A name="Heading189"></A>
<H4> <IMG src="http://learn.tsinghua.edu.cn:8080/2001315450/emacs24/graphics/todo.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/todo.gif" width="69" height="18"> Searching for a Definition 
  in Standard C <SPAN class=compcode>include</SPAN> Files Using <SPAN class=compcode>fgrep</SPAN></H4>
<P><FONT size=2>This
task will<A name="Index3340"></A><A name="Index3341"></A><A name="Index3342"></A><A name="Index3343"></A><A name="Index3344"></A><A name="Index3345"></A><A name="Index3346"></A><A name="Index3347"></A><A name="Index3348"></A>
demonstrate the 
<SPAN class=compcode>igrep.el</SPAN>
package by showing how you can search through all the standard C 
<SPAN class=compcode>include</SPAN>
files on your system for a given function. Follow these steps:
</FONT></P>
<DL>
<DT><DD>
    <P> <B><FONT size=2>1. </FONT></B><FONT size=2>First you have to locate yourself 
      in the base directory for your <SPAN class=compcode>include</SPAN> files. 
      (If you want to try this example and do not have <SPAN class=compcode>include</SPAN> 
      files installed, you might try it with your home directory and a search 
      string that you want to search for in your files.) To go to this directory, 
      press <SPAN class=compcode>C-x C-f</SPAN> (find-file) and type the name 
      of the directory. This loads the content of the directory into a special 
      buffer. The mode for this buffer is called dired-mode (for <I>directory 
      editor </I>) and is <A name="Index3349"></A><A name="Index3350"></A><A name="Index3351"></A><A name="Index3352"></A><A name="Index3353"></A><A name="Index3354"></A><A name="Index3355"></A><A name="Index3356"></A><A name="Index3357"></A>described 
      in detail in <A href="emacs138.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs138.htm">Hour 16, &quot;Interfacing with the 
      System&quot;</A> (see <A href="javascript:popUp('graphics/ch08/08fig04.gif')">Figure 8.4</A>). 
      </FONT>
  </DL>
<FONT size=2>
<P></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch08/08fig04.gif')">Figure 
  8.4</A> </B><BR>
  In Emacs you can <A name="Index3358"></A><A name="Index3359"></A><A name="Index3360"></A><A name="Index3361"></A><A name="Index3362"></A><A name="Index3363"></A><A name="Index3364"></A><A name="Index3365"></A><A name="Index3366"></A>open 
  a directory as easily as you can open a file. This is discussed in detail in 
  <A href="emacs138.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs138.htm">Hour 16</A>. </FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR>
    <TD bgcolor="#DDDDDD">
      <P><FONT size=2><B class="specialgreen">Note -</B> If you already are in 
        the directory in which you want to search, you can skip this step. </FONT></P>
    </TD>
  </TR>
</TABLE>
<BR>
<DL> 
  <DT>
  <DD>
    <P> <B><FONT size=2>2. </FONT></B><FONT size=2>Now press <SPAN class=compcode>M-x</SPAN> 
      (fgrep-find). Emacs will ask you for an expression <A name="Index3367"></A><A name="Index3368"></A><A name="Index3369"></A><A name="Index3370"></A><A name="Index3371"></A><A name="Index3372"></A><A name="Index3373"></A><A name="Index3374"></A><A name="Index3375"></A>to 
      search for. This is simply the search string when you use <SPAN class=compcode>fgrep</SPAN> 
      (see <A href="javascript:popUp('graphics/ch08/08fig05.gif')">Figure 8.5</A>). </FONT>
  
</DL>
<FONT size=2>
<P></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch08/08fig05.gif')">Figure 
  8.5</A> </B><BR>
  Emacs asks for the <A name="Index3376"></A><A name="Index3377"></A><A name="Index3378"></A><A name="Index3379"></A><A name="Index3380"></A><A name="Index3381"></A><A name="Index3382"></A><A name="Index3383"></A><A name="Index3384"></A>text 
  to search for. </FONT></P>
<DL> 
  <DT>
  <DD>
    <P> <B><FONT size=2>3. </FONT></B><FONT size=2>Finally Emacs wants to know 
      which files to search for the string in. By default it suggests <SPAN class=compcode>*</SPAN>, 
      which means all files. This is simply a pattern, known from the shell. So 
      here you can tell it to search only in files ending <A name="Index3385"></A><A name="Index3386"></A><A name="Index3387"></A><A name="Index3388"></A><A name="Index3389"></A><A name="Index3390"></A><A name="Index3391"></A><A name="Index3392"></A><A name="Index3393"></A>in 
      <SPAN class=compcode>.h</SPAN> by typing <SPAN class=compcode>*.h</SPAN> 
      (see <A href="javascript:popUp('graphics/ch08/08fig06.gif')">Figure 8.6</A>). </FONT>
  
</DL>
<FONT size=2>
<P></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch08/08fig06.gif')">Figure 
  8.6</A> </B><BR>
  Emacs asks for a pattern<A name="Index3394"></A><A name="Index3395"></A><A name="Index3396"></A><A name="Index3397"></A><A name="Index3398"></A><A name="Index3399"></A><A name="Index3400"></A><A name="Index3401"></A><A name="Index3402"></A> 
  describing the files in which it should search. </FONT></P>
<DL> 
  <DT>
  <DD> 
    <P><FONT size=2> Now Emacs searches recursively for matches, splits the window 
      in two, and, in the lower part, displays the matches, one <A name="Index3403"></A><A name="Index3404"></A><A name="Index3405"></A><A name="Index3406"></A><A name="Index3407"></A><A name="Index3408"></A><A name="Index3409"></A><A name="Index3410"></A><A name="Index3411"></A>line 
      for each match (see <A href="javascript:popUp('graphics/ch08/08fig07.gif')">Figure 8.7</A>). 
      </FONT>
  
</DL>
<FONT size=2>
<P></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch08/08fig07.gif')">Figure 
  8.7</A> </B><BR>
  When Emacs has found some matches, it splits the window and shows the matches 
  in one of <A name="Index3412"></A><A name="Index3413"></A><A name="Index3414"></A><A name="Index3415"></A><A name="Index3416"></A><A name="Index3417"></A><A name="Index3418"></A><A name="Index3419"></A><A name="Index3420"></A>the 
  panes. </FONT></P>
<P><FONT size=2>The first three lines are simply the command used to find the 
  matches. The actual matches start on the third line, which<A name="Index3421"></A><A name="Index3422"></A><A name="Index3423"></A><A name="Index3424"></A><A name="Index3425"></A><A name="Index3426"></A><A name="Index3427"></A><A name="Index3428"></A><A name="Index3429"></A> 
  tells you which file the match is located in and which line it is located on 
  and shows you the line. </FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR>
    <TD bgcolor="#DDDDDD">
      <P><FONT size=2><B class="specialgreen">Note -</B> I have resized the window 
        for your eyes only. Emacs doesn&#039;t resize itself. </FONT></P>
    </TD>
  </TR>
</TABLE>
<BR>
<DL> 
  <DT>
  <DD>
    <P> <B><FONT size=2>4. </FONT></B><FONT size=2>Now you can open the files 
      with the matches and go to the line with the match, either by clicking the 
      middle mouse button on the match or by moving point to the match and<A name="Index3430"></A><A name="Index3431"></A><A name="Index3432"></A><A name="Index3433"></A><A name="Index3434"></A><A name="Index3435"></A><A name="Index3436"></A><A name="Index3437"></A><A name="Index3438"></A> 
      pressing Enter (see <A href="javascript:popUp('graphics/ch08/08fig08.gif')">Figure 8.8</A>). 
      </FONT>
  
</DL>
<FONT size=2>
<P></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch08/08fig08.gif')">Figure 
  8.8</A> </B><BR>
  Pressing Enter on one of the matches makes Emacs show this match in the other<A name="Index3439"></A><A name="Index3440"></A><A name="Index3441"></A><A name="Index3442"></A><A name="Index3443"></A><A name="Index3444"></A><A name="Index3445"></A><A name="Index3446"></A><A name="Index3447"></A> 
  window and jump to the given line. </FONT></P>
<P><FONT size=2>If you have the feeling of d&eacute;j&agrave; vu now, it might 
  simply be because the interface that <SPAN class=compcode>igrep</SPAN> uses 
  is the same interface used by <SPAN class=compcode>occur</SPAN>, which is described 
  in <A href="emacs059.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs059.htm">Hour 7</A>. In fact, this interface is <A name="Index3448"></A><A name="Index3449"></A><A name="Index3450"></A><A name="Index3451"></A><A name="Index3452"></A><A name="Index3453"></A><A name="Index3454"></A><A name="Index3455"></A><A name="Index3456"></A>used 
  a lot of places in Emacs. <BR>
  <IMG src="http://learn.tsinghua.edu.cn:8080/2001315450/emacs24/graphics/arrowup.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/arrowup.gif" width="21" height="16"></FONT></P>
<P><FONT size=2>If you press <SPAN class=compcode>M-u</SPAN> once before you press 
  <SPAN class=compcode>M-x fgrep</SPAN>, Emacs will ask you for options to give 
  to <SPAN class=compcode>fgrep</SPAN>. You can consult the manual page for <SPAN class=compcode>fgrep</SPAN> 
  for information about these options. There are two useful options, namely <SPAN class=compcode>-i</SPAN>, 
  which makes the searches not case sensitive, and <SPAN class=compcode>-#</SPAN> 
  (where <SPAN class=compcode>#</SPAN> should be replaced with a number), which 
  tells <SPAN class=compcode>grep</SPAN> to display a number of context <A name="Index3457"></A><A name="Index3458"></A><A name="Index3459"></A><A name="Index3460"></A><A name="Index3461"></A><A name="Index3462"></A><A name="Index3463"></A><A name="Index3464"></A><A name="Index3465"></A>lines. 
  </FONT></P>
<TABLE border="0" width="90%" cellspacing="0" cellpadding="3" align="center">
  <TR>
    <TD bgcolor="#DDDDDD">
      <P><FONT size=2><B class="specialred">Caution -</B> Unfortunately, the options 
        to <SPAN class=compcode>agrep</SPAN> are not compatible<A name="Index3466"></A><A name="Index3467"></A> 
        with the options to, for example, <SPAN class=compcode>fgrep</SPAN>. This 
        means that <SPAN class=compcode>-#</SPAN> does not tell how many lines 
        of context to use but instead how many errors to accept. It does in fact 
        seem that <SPAN class=compcode>agrep</SPAN> doesn&#039;t support context 
        lines. </FONT></P>
    </TD>
  </TR>
</TABLE>
<BR>
<P><FONT size=2>In <A href="javascript:popUp('graphics/ch08/08fig09.gif')">Figure 8.9</A>, you can 
  see an example of the output where two context lines <A name="Index3468"></A><A name="Index3469"></A><A name="Index3470"></A><A name="Index3471"></A><A name="Index3472"></A><A name="Index3473"></A><A name="Index3474"></A><A name="Index3475"></A><A name="Index3476"></A>are 
  displayed. </FONT></P>
<P class="figcaption"><FONT size=2><B><A href="javascript:popUp('graphics/ch08/08fig09.gif')">Figure 
  8.9 </A></B><BR>
  Output from <SPAN class=compcode>igrep</SPAN>, where two <A name="Index3477"></A><A name="Index3478"></A><A name="Index3479"></A><A name="Index3480"></A><A name="Index3481"></A><A name="Index3482"></A><A name="Index3483"></A><A name="Index3484"></A><A name="Index3485"></A>lines 
  of context are shown. </FONT></P>
</FONT></FONT></FONT></FONT></FONT>
<TABLE border="0" width="99%" cellspacing="0" cellpadding="3">
  <TR> 
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif"  bgcolor="#666699"> 
      <P> <FONT color="#FFFFFF"><B>Sams Teach Yourself Emacs<FONT size="1"></FONT> 
        in 24 Hours</B> </FONT></P>
    </TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699"><FONT size="2"><IMG src="http://learn.tsinghua.edu.cn:8080/2001315450/style/dot.gif" tppabs="http://freebooks.by.ru/view/style/dot.gif" width="10" height="1"></FONT></TD>
    <TD background="graphics/blstrbkg.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/blstrbkg.gif" bgcolor="#666699" nowrap align="right"> 
      <P><A href="index.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/index.htm"><FONT size="2" color="#FFFFFF">Contents</FONT></A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="bkindex.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/bkindex.htm"><FONT size="2" color="#FFFFFF">Index</FONT></A></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#AAAAAA" height="16"> 
      <P><FONT size="2">Hour 8: Searching for Text in Multiple Files</FONT></P>
    </TD>
    <TD bgcolor="#AAAAAA" height="16"><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
    <TD bgcolor="#AAAAAA" height="16" align="right" nowrap> 
      <P><FONT size="2"><A href="emacs059.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs059.htm"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Hour</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs075.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs075.htm">Next 
        Hour<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
  <TR> 
    <TD bgcolor="#DDDDDD"> 
      <TABLE border="0" cellspacing="0" cellpadding="0" dwcopytype="CopyTableRow">
        <TR valign="top"> 
          <TD> 
            <P></P>
            <P><FONT size="2">Sections in this Hour:</FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs067.htm#c1" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs067.htm#c1">Searching 
              for a Definition in a Set of Files</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs071.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs071.htm">Summary</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1">Using grep from Within Emacs</FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs072.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs072.htm">Q&amp;A</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs069.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs069.htm">Keeping 
              Points in Buffers for Several Sessions (Bookmarks)</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs073.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs073.htm">Exercises</A> 
              </FONT></P>
          </TD>
        </TR>
        <TR valign="top"> 
          <TD> 
            <P class="navigation"><FONT size="1"><A href="emacs070.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs070.htm">Keeping 
              Points in Buffers for the Current Session</A> </FONT></P>
          </TD>
          <TD><FONT size="2"><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"></FONT></TD>
          <TD> 
            <P class="navigation"><FONT size="1"> </FONT></P>
          </TD>
        </TR>
      </TABLE>
    </TD>
    <TD bgcolor="#DDDDDD">&nbsp;</TD>
    <TD bgcolor="#DDDDDD" align="right" nowrap valign="bottom"> 
      <P class="navigation"><FONT size="2"><A href="emacs067.htm#c1" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs067.htm#c1"><IMG src="graphics/prev-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/prev-on.gif" width="7" height="5" border="0">Previous 
        Section</A><IMG src="graphics/dot.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/dot.gif" width="10" height="1"><A href="emacs069.htm" tppabs="http://freebooks.by.ru/view/EmacsIn24h/emacs069.htm">Next 
        Section<IMG src="graphics/next-on.gif" tppabs="http://freebooks.by.ru/view/EmacsIn24h/graphics/next-on.gif" width="7" height="5" border="0"></A></FONT></P>
    </TD>
  </TR>
</TABLE>
<P class="copyright"><FONT size=2>&#169; Copyright Macmillan USA. All rights reserved.</FONT></P>
</BODY></HTML>
